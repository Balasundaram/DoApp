<!doctype html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <link rel="stylesheet" href="css/style.css">
    <script src="iscroll-lite.js"></script>
    <script src="app.js"></script>
    <link rel="stylesheet" href="jquery.mobile.css" />
    <script type="text/javascript" src="js/jQuery.js" />
    <script type="text/javascript" src="js/jquery.mobile.js" />
    <!-- <script type="text/javascript" src="./jquery-ui-1.8.16.custom.min.js"></script> -->
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js" type="text/javascript"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/i18n/jquery-ui-i18n.min.js" type="text/javascript"></script>
    <script src="js/jquery.mobile.pulltorefresh.js" type="text/javascript" />
    <script src="js/app.js" />
    <script src="js/index.js" />
    <link rel="stylesheet" href="css/index.css" />
    <link rel="stylesheet" href="css/jquery.mobile.css" />


    <title>PhoneGapDoosra</title>
</head>


<script>
    $(function() {
    var refreshCallback = function(loader) {
    alert("function()");
    setTimeout(function(){
    //loader.finish();

    }, 1000);
    };

    var cancelRefreshing = function() {
    };

    $("#draggable").pulltorefresh({
    async: true,
    // event triggered when refreshing start
    refresh: function(event, finishCallback) {
    alert("pull");
    showCategories();
    element = $(this)
    setTimeout(function(){
    alert("refresh");


    // you must call this function if refreshing process runs asynchronusly
    finishCallback();
    }, 1000);
    },
    abort: function() {
    alert("abort");
    }
    });
    });

    function showCategories(){

    $.getJSON("http://10.0.14.39/api/feed/list",function(data){
    alert("show");
    alert(data);
    sucessCallback(data);
    });
    }
    function sucessCallback(data)
    {
    $.each(data, function (i, item) {
    obj=JSON.parse(data);
    $("#user_list").append("<li>"+obj.message+ "</li>");
    });

    }

</script>
<style>
    .ui-header {
    z-index: 10;
    }
    .pull-header {
    height: 80px;
    margin-top: -80px;
    background-color: #88FFFF;
    }
</style>
<body onload="myFunction()">
<header>
    <h1>Doosra
        <INPUT Type="image" VALUE="goBack" onClick="history.go(-1);return true;" src="images/back.jpeg" alt="" width="45" height="45" align="left">
        <INPUT Type="image" VALUE="" onClick="home.html;return true;" src="images/home1.jpeg" alt="" width="45" height="45" align="right">
    </h1>
</header>
<div id="wrapper">
    <div class="content-primary" id="draggable">
        <div id="main-content">
            <h1>updates</h1>
            <form>
                <H2> Click the button for getting information about Blog from Typepad API <br></H2>
                <INPUT TYPE="Button" Value="Show Categories" onClick="showCategories()" name="button">
            </form>
            <ul id="user_list">
            </ul>
        </div>
    </div>
    <footer>
        <ul id="tab-bar">
            <li>
                <a href="About.html"><img border="0" src="images/about.jpeg" alt="" width="99" height="48">
                </a>
            </li>
            <li>
                <a href="Team.html"><img border="0" src="images/team1.jpeg" alt="" width="99" height="48">
                </a>
            </li>
            <li>
                <a href="Technology.html"><img border="0" src="images/technology.jpeg" alt="" width="99" height="48">
                </a>
            </li>
            <li>
                <a href="UrlUsed.html"><img border="0" src="images/url.jpeg" alt="" width="99" height="48"></a>
            </li>
        </ul>
    </footer>
</div>
<div id="pages">
    <div id="About" class="current">
    </div>
    <div id="Team">
    </div>
    <div id="Technology">
    </div>
    <div id="urlUsed">
    </div>
</div>
</body>
</html>